---
# Experiment description
name: Simple Stimulus Playback
description: Loops through a directory of stimuli and plays them back, with some intertrial interval
experimenter:
    name: First Last
    email: &def_email "test@somewhere.com"

# Experiment properties
subject_name: &subject Subject
light_schedule:
    - !!python/tuple ["05:00", "22:00"]
idle_poll_interval: 60.0
debug: false

random_isi: true
isi:
    # min
    - .5
    # max
    - 1.5

# Subject properties
subject: !!python/object:pyoperant.subjects.Subject
    name: *subject
    datastore: csv
    output_path: "/path/to/data/directory"

# File paths
experiment_path: "/path/to/data/directory"

# Stimulus conditions
conditions:
    - &playback !!python/object:pyoperant.stimuli.StimulusConditionWav
      file_path: "/path/to/rewarded/stimuli"

# Queues
queues:
    - &random !!python/name:pyoperant.queues.random_queue
    - &block !!python/name:pyoperant.queues.block_queue

blocks:
    # Block number 1
    - !!python/object:pyoperant.blocks.Block
        conditions:
            # Stimuli
            - *playback
        weights:
            - 1.0
        queue: *random
        queue_parameters: {}

block_queue: *block
block_queue_parameters: {}
block_weights: none

# Log handler setup
# Possible values are stream, file, email
log_handlers:
    # stream's only option is level. Overrides "debug" parameter for logging
    stream:
        level: !!python/name:logging.INFO
    # file takes options of
    # filename: a file under experiment_path
    # level: a python logging level, written as "!!python/name:logging.LEVEL"
    file:
        filename: "experiment.log"
        level: !!python/name:logging.DEBUG
    # email takes options of
    # mailhost: where the email is sent from
    # toaddrs: a list of addresses to send to
    # fromaddr: the address to send from
    # subject: The subject line
    # credentials: not sure
    # secure: not sure
    # level: a python logging level, written as "!!python/name:logging.LEVEL"
    email:
        mailhost: localhost
        toaddrs:
            - *def_email
        fromaddr: "Pyoperant <pyoperant@someemail.com"
        subject: "pyoperant notice"
        credentials: none
        secure: none
        level: !!python/name:logging.ERROR
...
